# 求人管理・キャリアページ

本ドキュメントは、Opinio ATS における **機能定義 2-5：求人管理・キャリアページ** を扱う。

## 機能の位置づけ
求人管理・キャリアページ機能は、  
Opinio ATS において **採用活動の起点となる情報を管理し、外部に公開するための基盤機能**である。

本機能は、以下の前提で設計される。

- 採用要件を「固定された完成形」として扱わない
- 採用活動の進行や学びに応じて更新され続ける情報として扱う

---

## 主な機能
- 求人情報の作成・編集
- 募集要件・期待役割の整理
- キャリアページ（外部公開ページ）への反映
- 公開・非公開の切り替え

---

## 設計方針
以下は、本機能を「判断確定」ではなく「前提共有」として扱うための方針である。

- 求人票は「完成形」ではなく更新前提とする
- 評価基準・合否判断と直結させない
- 社内での認識共有・すり合わせの文脈を重視する
- 採用後の振り返りに耐える情報構造とする

---

## 設計思想
- 求人は「募集条件」ではなく **期待の言語化** として扱う
- 応募者に見せる情報と、社内で使う情報は分離する
- 採用活動の途中で要件が変わることを前提とする

---

## データモデル（必須）

### Job
- job_id
- company_id
- title
- description_public
- description_internal
- expected_role
- status（draft / open / closed）
- published_at
- created_at
- updated_at

### JobRevision
- revision_id
- job_id
- changed_fields
- changed_by
- created_at

※ 求人情報の変更履歴は必ず保持する  
※ 「いつ・誰が・何を変えたか」を追える状態にする

---

## コントローラ設計

### JobController
- index  
  求人一覧表示
- create  
  求人作成画面
- store  
  求人作成処理
- edit  
  求人編集画面
- update  
  求人更新処理
- close  
  募集終了処理

### CareerPageController
- index  
  キャリアページ一覧（公開用）
- show  
  求人詳細（公開用）

---

## ビュー設計
- jobs/index  
  求人管理一覧
- jobs/form  
  求人作成・編集画面
- jobs/show  
  求人詳細（社内用）
- career/index  
  キャリアページ一覧
- career/show  
  求人詳細（候補者向け）

---

## Controller / View 以外に必要な要素

### Service
#### JobPublishService
- 公開・非公開切り替えの集約
- キャリアページ反映処理
- キャッシュ制御

---

### Policy
- JobPolicy  
  求人の閲覧・編集・公開権限管理

---

### Observer / Hook
- JobUpdatedObserver  
  求人更新時に revision を自動生成

---

## 他機能との関係
- 候補者管理：  
  応募は必ず job を起点として発生
- 選考パイプライン：  
  job ごとに選考ステップを定義
- 分析・レポート：  
  採用結果を job 単位で振り返る

---

## 本機能で「やらないこと」
以下は、Opinio ATS の思想に基づく設計判断である。

- 評価基準・合否条件の確定
- 処遇・等級・給与情報の管理
- 求人内容を法的判断の根拠として扱うこと

求人管理・キャリアページ機能は、  
**採用活動における期待と前提を共有するための起点**であり、  
判断や評価を確定させる仕組みではない。
