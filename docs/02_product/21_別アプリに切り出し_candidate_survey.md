# 候補者アンケート（Candidate Survey）

本ドキュメントは、Opinio ATS における  
**機能定義：候補者アンケート** を扱う。

---

## 機能の位置づけ
候補者アンケートは、  
Opinio ATS において **選考プロセスの各段階における候補者の体験・意向・認識を構造化して取得するとともに、その結果を元に採用活動全体を改善するするための機能**である。

本機能は、
- 候補者満足度を数値評価する
- 採否判断の材料として直接使う

ことを目的としない。

あくまで、
**採用プロセスを改善し、判断の背景を後から説明できる状態をつくる**
ための補助機能として位置づける。

---

## 基本思想（重要）
- 候補者の声は「評価」ではなく「事実」として扱う
- 回答しない自由を前提とする
- 回答内容は合否に直接影響しない
- 定量よりも定性を重視する

---

## 利用タイミング
アンケートは、以下のタイミングで送付可能とする。

- 面接完了後
- 選考辞退後
- 内定承諾／辞退後
- 採用プロセス完了時（任意）

※ 送付タイミングは企業ごとに設定可能  
※ 強制送信は行わない

---

## アンケート設計

### 質問形式
- 選択式（単一／複数）
- 5段階などの満足度尺度（任意）
- 自由記述

※ 点数化は可能だが、  
　**ランキング・スコア比較用途では使用しない**

---

### 質問設計方針
- 誘導しない表現
- 否定的回答も許容する
- 面接官個人の評価に直結しない
- プロセス単位の改善に寄せる

---

## 主な取得項目（例）
- 面接全体の印象
- 日程調整のしやすさ
- 面接官の説明の分かりやすさ
- 選考スピードに対する印象
- 辞退理由（該当時）
- 自由コメント

---

## 設計ルール
- 回答は匿名化可能
- 回答率を上げるためのリマインドは1回まで
- 未回答でも督促しない
- 回答後の編集は不可

---

## データモデル（必須）

### CandidateSurvey
- survey_id
- company_id
- application_id
- survey_type  
  （post_interview / withdrawal / offer_decision / final）
- sent_at
- responded_at
- is_anonymous

---

### CandidateSurveyQuestion
- question_id
- survey_type
- question_text
- question_type  
  （single / multiple / scale / free_text）
- order
- is_active

---

### CandidateSurveyResponse
- response_id
- survey_id
- question_id
- answer_value
- created_at

---

## 送信・回収フロー
1. トリガー発生（面接完了など）
2. 対応するアンケートテンプレート選択
3. 候補者へ送信（メール等）
4. Webフォームで回答
5. 回答を保存（編集不可）

---

## コントローラ設計

### CandidateSurveyController
- send  
  アンケート送信
- show  
  回答画面表示
- submit  
  回答送信

---

## Service

### SurveyDispatchService
- 送信タイミング判定
- テンプレート選択
- リマインド制御

---

## 権限・閲覧制御
- 回答内容は管理者・採用責任者のみ閲覧可能
- 面接官個人への直接フィードバック用途には使用しない
- 個別回答の共有可否は設定で制御

---

## 分析・活用
- 集計はレポート機能側で実施
- プロセス単位の傾向把握に利用
- 個人評価・査定への接続は禁止

---

## 他機能との関係
- メッセージ機能：  
  アンケート送信経路
- 判断履歴：  
  辞退理由等の補足情報
- 分析・レポート：  
  改善施策検討材料

---

## 本機能で「やらないこと」
- 候補者のスコアリング
- 面接官ランキング
- 自動的な評価反映
- 採否判断の上書き

---

## 一文定義（迷ったとき用）
候補者アンケートは、  
**採用プロセスを改善するために、候補者の声を静かに集める機能である。**
