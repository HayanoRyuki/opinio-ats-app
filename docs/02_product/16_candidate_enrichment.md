# 候補者エンリッチメント

本ドキュメントは、Opinio ATS における  
**機能定義：候補者エンリッチメント（Candidate Enrichment）** を扱う。

---

## 機能の位置づけ
候補者エンリッチメントは、  
既に存在する候補者情報に対して、**外部情報・推定情報を付加し、理解を助けるための補助機能**である。

本機能は、
- 候補者を評価・ランク付けするためのものではない
- 採否判断を自動化するためのものではない
- あくまで「判断材料を増やす」ための機能である

ことを前提とする。

---

## エンリッチメントの考え方
- 元データ（候補者が提出した情報）は改変しない
- 推定情報・補助情報は **別レイヤ** として保持する
- 推定であることが常に判別できる状態にする

---

## 付加対象となる情報例

### 基本属性（推定・補助）
- 年齢（生年月日からの算出）
- 経験社数
- 職種カテゴリ
- 業界カテゴリ

---

### 学歴・経歴の整理
- 学校区分（大学 / 大学院 / 専門 など）
- 学歴カテゴリ（文系 / 理系 / その他）
- 学歴レベル（区分ベース・点数化しない）

---

### 経験・スキルの整理
- 職務経歴書からのキーワード抽出
- 経験領域タグ付け
- スキルカテゴリ分類

※ 点数・スコアは付与しない  
※ 比較・優劣判断を行わない

---

## 表示・利用方針
- 候補者詳細画面での補助表示
- フィルタ・検索条件として利用可能
- 判断画面では「参考情報」として明示

---

## 設計上の前提（重要）
- エンリッチ情報は **いつでも再生成可能** とする
- 推定ロジックはブラックボックスにしない
- 将来、生成AIを使わない構成にも戻せる設計にする

---

## データモデル（必須）

### CandidateEnrichment
- enrichment_id
- candidate_id
- enrichment_type  
  （例：age_estimate / experience_count / skill_tag）
- value
- source_type  
  （manual / rule / ai）
- generated_at

---

### EnrichmentDefinition
- definition_key
- label
- description
- generation_rule
- is_active
- created_at
- updated_at

---

## コントローラ設計

### CandidateEnrichmentController
- index  
  候補者ごとのエンリッチ情報取得
- regenerate  
  再生成実行（管理者のみ）

---

## Service

### CandidateEnrichmentService
- テキスト解析
- ルールベース生成
- AIベース生成（任意）
- 再生成処理の統一管理

---

## 権限・制御
- 編集不可（手動修正しない）
- 表示 ON / OFF は設定で制御
- 再生成は管理者権限のみ

---

## 他機能との関係
- 候補者管理：  
  補助情報として表示
- フィルタ・検索：  
  条件指定に利用
- 分析・レポート：  
  集計条件として参照可

---

## 本機能で「やらないこと」
- 候補者の自動ランキング
- 採否判断の自動化
- 人事評価への直接接続
- 推定値の正解性保証

---

## 一文定義（迷ったとき用）
候補者エンリッチメントは、  
**候補者理解を助けるための補助情報を、責任分離した形で付加する機能である。**
