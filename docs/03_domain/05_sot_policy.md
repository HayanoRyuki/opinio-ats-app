# SoT（Single Source of Truth）ポリシー

## 本ドキュメントの位置づけ
本ドキュメントは、Opinio ATS における  
**SoT（Single Source of Truth：事実の正）をどのように定義し、扱い、守るか** を定める  
**責務領域横断の設計ポリシー**である。

本ドキュメントは、
- ドメイン設計
- 実装判断
- AI 利用方針
- 運用・監査・説明責任

における **最上位の判断基準（正本）** とする。

---

## SoT（Single Source of Truth）とは何か

### 定義
SoT（Single Source of Truth）とは、

**ある情報について  
「最終的に正しい事実として扱う唯一の場所」**

を明示的に定める設計上の概念である。

SoT は、
- 採用用語ではなく
- ATS 固有の概念でもなく

**SaaS / 業務システム設計における基本原則**である。

---

## なぜ Opinio ATS に SoT が必要か

採用業務では、同一の情報が以下のように分散して存在する。

- 応募通知メール
- 媒体管理画面
- エージェントからの連絡
- Slack / Chat
- Excel / スプレッドシート
- ATS 内部データ

SoT を定義しない場合、以下の問題が必ず発生する。

- 情報の不一致
- 判断根拠の不明確化
- 採用判断の説明不能
- AI 利用時の誤学習・誤判断
- 監査・トラブル対応不能

Opinio ATS はこれを防ぐため、  
**「事実」と「判断・解釈・補助」を明確に分離する設計**を採用する。

---

## Opinio ATS における SoT の基本原則

### 原則1：SoT は必ず限定される
- すべてのデータが SoT になることはない
- SoT は **責務領域単位で明示的に定義**される

---

### 原則2：SoT は判断・評価を含まない
SoT に含まれるのは以下のみである。

- 発生した事実
- 確定した関係
- 確認済みの状態

以下は **SoT に含まれない**。

- 評価
- 所感
- 点数・スコア
- 優劣・ランキング
- 合否理由
- 推測・解釈・補助結果

---

### 原則3：SoT は上書きされない
- 状態変化は履歴として保持する
- 原データは原則削除しない
- 「なかったこと」にしない設計を前提とする

---

## Opinio ATS における SoT の所在

### SoT となる責務領域
**候補者・求人・応募 責務領域（03_domain/01）** が、  
Opinio ATS における **採用事実の Single Source of Truth** である。

ここで SoT として扱われるのは以下である。

- Person  
- Candidate  
- Job  
- Application  

および、

- 応募が成立した事実
- 応募が終了した事実
- 応募が取り下げられた事実

---

### SoT ではない責務領域（重要）

以下の責務領域は **明確に SoT ではない**。

- 応募チャネル責務領域  
  （未確定・整理前データ）
- 選考パイプライン責務領域  
  （進行・状態管理）
- 評価・判断補助責務領域  
  （主観・思考材料）
- ダッシュボード・分析責務領域  
  （集計・可視化結果）
- AI 補助責務領域  
  （推論・提案・生成結果）

これらは **SoT を参照する存在**であり、  
SoT を置き換えることはない。

---

## SoT への昇格（確定）の意味

SoT に登録されるということは、

- 人が確認し
- 応募先求人が特定され
- 正式に「応募として扱う」判断が行われた

ことを意味する。

そのため、
- 応募チャネル責務領域 → SoT への移行は  
  **明示的な昇格操作によってのみ行われる**
- 自動昇格は原則行わない

---

## AI と SoT の関係（重要）

### AI ができること
- SoT を **参照**する
- SoT 以外のデータを **生成・補助**する
- Draft / 下書き / 提案を行う

---

### AI がしてはいけないこと
- SoT を直接書き換える
- 応募の成立・不成立を自動確定する
- 評価結果を SoT として保存する

AI は常に  
**SoT の外側で動作する補助者**である。

---

## 実装・運用上の注意点

### 注意1：SoT を安易に増やさない
- 利便性や速度を理由に SoT を増やさない
- 新たに SoT を追加する場合は、  
  必ず責務領域として定義する

---

### 注意2：SoT と UI 表示を混同しない
- 画面に表示されている = SoT ではない
- SoT はデータの性質であり、UI の都合では決まらない

---

### 注意3：SoT に説明責任を持たせる
- SoT に残る事実は  
  **後から説明できること** を前提とする
- 削除・上書きは原則行わない

---

## 一文定義（迷ったとき用）
Opinio ATS における SoT（Single Source of Truth）とは、  
**採用に関する「確定した事実」を唯一正として保持するための設計上の基準である。**
